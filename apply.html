<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>자동시그널 프로그램 무료체험 신청</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 min-h-screen flex items-start justify-center py-12 px-4">
  <div class="w-full max-w-xl bg-white rounded-2xl shadow-xl p-8">
    <h1 class="text-3xl font-bold text-center text-gray-800 mb-8">
      자동시그널 프로그램<br />
      <span class="text-black">무료체험 신청</span>
    </h1>

    <!-- JS 폼 제출 핸들러 적용 -->
    <form id="apply-form" action="https://formspree.io/f/xzzrykle" method="POST" class="space-y-6">
      <!-- 필수 hidden 필드 -->
      <input type="hidden" name="_captcha" value="false" />

      <!-- 개인정보 동의 안내 -->
      <div class="bg-green-50 border border-green-200 p-4 rounded-lg">
        <h2 class="font-medium text-gray-800 mb-2">개인정보 수집 및 이용동의</h2>
        <ul class="list-disc list-inside text-sm text-gray-700 space-y-1 mb-2">
          <li>수집 및 이용목적: 자사의 상품 마케팅 및 맞춤정보 제공</li>
          <li>수집항목: 성명, 전화번호</li>
          <li>이용기간: 수집 후 제품 전달 및 즉시 폐기</li>
          <li>24시간 이내 순차적으로 연락드립니다.</li>
        </ul>
        <p class="text-sm text-green-700 font-medium">
          ✅ 100% 무료로 사용하실 수 있으며, 유료결제 및 비용 발생 없습니다. ✅
        </p>
      </div>

      <!-- 성함 -->
      <div>
        <label for="name" class="block text-sm font-medium text-gray-700">
          01. 성함을 기재해 주세요. <span class="text-red-500">*</span>
        </label>
        <input id="name" name="name" type="text" required
               placeholder="고객님의 소중한 성함을 기재해 주세요."
               class="mt-1 block w-full border border-gray-300 p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500" />
      </div>

      <!-- 전화번호 -->
      <div>
        <label for="phone" class="block text-sm font-medium text-gray-700">
          02. 전화번호를 기재해 주세요. <span class="text-red-500">*</span>
        </label>
        <input id="phone" name="phone" type="tel" required
               placeholder="연락받으실 전화번호를 기재해 주세요."
               class="mt-1 block w-full border border-gray-300 p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500" />
      </div>

      <!-- 관심 종목 입력 -->
      <div>
        <label for="interest" class="block text-sm font-medium text-gray-700">
          03. 관심있는 종목을 적어주세요 <span class="text-gray-500">ex: 해외주식, 코인</span>
        </label>
        <input id="interest" name="interest" type="text"
               placeholder="ex: 해외주식, 코인"
               class="mt-1 block w-full border border-gray-300 p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500" />
      </div>

      <!-- 약관 펼쳐보기 -->
      <div>
        <div class="relative border border-gray-300 rounded-lg p-4 h-36 overflow-hidden">
          <p id="policy-text" class="text-xs text-gray-600 whitespace-pre-line">
            [개인정보 취급방침]<br />
            본 사이트(이하 “회사”라 한다)는 고객님의 개인정보를 중요시하며,<br />
            “정보통신망 이용촉진 및 개인정보보호 등에 관한 법률” 등 관련 법령을 준수합니다.
          </p>
          <button type="button" id="toggle-btn"
                  class="absolute bottom-2 right-2 text-sm text-green-600 hover:underline focus:outline-none">
            펼쳐보기
          </button>
        </div>
      </div>

      <!-- 동의 체크박스 -->
      <div class="flex items-center">
        <input id="agree" name="agree" type="checkbox"
               class="h-4 w-4 text-green-600 border-gray-300 rounded" />
        <label for="agree" class="ml-2 text-sm text-gray-700">
          개인정보 수집 및 이용에 동의합니다.
        </label>
      </div>

      <!-- 제출 버튼 -->
      <button type="submit" id="submit-btn" disabled
              class="w-full py-3 text-white font-medium rounded-lg bg-green-600 disabled:opacity-50 focus:outline-none focus:ring-2 focus:ring-green-500">
        제출하기
      </button>
    </form>
  </div>

  <script>
    // 약관 펼쳐보기 핸들러
    const toggleBtn = document.getElementById('toggle-btn');
    const policyText = document.getElementById('policy-text');
    let expanded = false;
    toggleBtn.addEventListener('click', () => {
      expanded = !expanded;
      policyText.innerHTML = expanded
        ? `[개인정보 취급방침]\n1. 수집항목: 성명, 전화번호\n2. 이용목적: 서비스 제공·마케팅 정보 제공\n3. 보유기간: 제품 전달 후 즉시 폐기\n4. 파기절차: 복구 불가능한 방식으로 영구 삭제\n5. 제공 및 위탁: 법령에 따른 경우 제외\n6. 권리: 열람·정정·삭제 요청 가능\n7. 책임자: 코인의해답 (crushedice111@gmail.com)\n8. 조치: 접근통제·암호화·보안 솔루션 적용`
        : `[개인정보 취급방침]\n본 사이트(이하 “회사”)는 고객님의 개인정보를 중요시하며,\n관련 법령을 준수합니다.`;
      toggleBtn.textContent = expanded ? '접기' : '펼쳐보기';
    });

    // 체크박스 활성화
    const agreeCheckbox = document.getElementById('agree');
    const submitBtn = document.getElementById('submit-btn');
    agreeCheckbox.addEventListener('change', () => {
      submitBtn.disabled = !agreeCheckbox.checked;
    });

    // JS 폼 제출 및 리다이렉트 핸들러
    document.getElementById('apply-form').addEventListener('submit', async function(e) {
      e.preventDefault();
      const form = e.target;
      try {
        const res = await fetch(form.action, {
          method: 'POST',
          body: new FormData(form),
          headers: { 'Accept': 'application/json' }
        });
        if (res.ok) {
          window.location.href = 'https://yl-investment.pages.dev/thank-you.html';
        } else {
          alert('전송에 실패했습니다.');
        }
      } catch (err) {
        alert('전송 중 오류가 발생했습니다.');
      }
    });
  </script>
</body>
</html>
